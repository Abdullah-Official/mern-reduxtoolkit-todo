(this["webpackJsonptodo-client"]=this["webpackJsonptodo-client"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),o=n(8),s=n.n(o),i=(n(16),n(17),n(7)),u=n(3),l=n(6),d=n(2),j=n.n(d),b=n(5),p=n(4),f=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"post",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(n)});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:n,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=Object(p.b)("signupuser",function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/signup",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=Object(p.b)("signinuser",function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/signin",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=Object(p.c)({name:"user",initialState:{token:"",loading:!1,error:""},reducers:{addToken:function(e,t){e.token=localStorage.getItem("token")},logout:function(e,t){e.token=null,localStorage.removeItem("token")}},extraReducers:(r={},Object(l.a)(r,h.fulfilled,(function(e,t){e.loading=!1,t.payload.error?e.error=t.payload.error:e.error=t.payload.message})),Object(l.a)(r,h.pending,(function(e,t){e.loading=!0})),Object(l.a)(r,v.fulfilled,(function(e,t){e.loading=!1,t.payload.error?e.error=t.payload.error:(e.token=t.payload.token,localStorage.setItem("token",t.payload.token))})),Object(l.a)(r,v.pending,(function(e,t){e.loading=!0})),r)}),x=m.actions,g=x.addToken,y=x.logout,k=m.reducer,w=n(1);var N,S=function(){var e=Object(u.b)(),t=Object(c.useState)(),n=Object(i.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(),s=Object(i.a)(o,2),l=s[0],d=s[1],j=Object(c.useState)("signin"),b=Object(i.a)(j,2),p=b[0],f=b[1],O=Object(u.c)((function(e){return e.user})),m=O.loading,x=O.error;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"container",children:[m&&Object(w.jsx)("div",{className:"progress",children:Object(w.jsx)("div",{className:"indeterminate"})}),Object(w.jsxs)("h1",{style:{color:"red"},children:["please ",p,"!"]}),x&&Object(w.jsx)("h5",{children:x}),Object(w.jsx)("input",{type:"email",value:r,onChange:function(e){return a(e.target.value)},placeholder:"Enter your email .."}),Object(w.jsx)("input",{type:"password",value:l,onChange:function(e){return d(e.target.value)},placeholder:"Enter your password .."}),"signin"===p?Object(w.jsx)("h6",{onClick:function(){return f("signup")},children:"Dont have an account ?"}):Object(w.jsx)("h6",{onClick:function(){return f("signin")},children:"Already have an account ?"}),Object(w.jsx)("button",{className:"btn",onClick:function(){e("signin"===p?v({email:r,password:l}):h({email:r,password:l}))},children:p})]})})},C=Object(p.b)("createtodo",function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/createtodo",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=Object(p.b)("fetchtodos",Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/gettodo","get");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),A=Object(p.b)("deletetodo",function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/remove/".concat(t),"delete");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T=Object(p.c)({name:"todo",initialState:[],reducers:{},extraReducers:(N={},Object(l.a)(N,C.fulfilled,(function(e,t){var n=t.payload.message;n&&e.push(n)})),Object(l.a)(N,I.fulfilled,(function(e,t){return t.payload.message})),Object(l.a)(N,A.fulfilled,(function(e,t){return e.filter((function(e){return e._id!=t.payload.message._id}))})),N)}).reducer;var E=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(u.b)(),o=Object(u.c)((function(e){return e.todos}));return Object(c.useEffect)((function(){a(I())}),[]),Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)("h1",{style:{color:"red"},children:"TODO APPLICATION"}),Object(w.jsx)("input",{type:"text",placeholder:"Write todo here ..",value:n,onChange:function(e){return r(e.target.value)}}),Object(w.jsx)("button",{className:"btn btn-red",onClick:function(){return a(C({todo:n})),void r("")},children:"Add todo"}),Object(w.jsxs)("ul",{className:"collection with-header ",children:[Object(w.jsx)("li",{className:"collection-header",children:Object(w.jsx)("h4",{children:"My TODOS"})}),o.map((function(e,t){return Object(w.jsx)("li",{className:"collection-item",children:Object(w.jsxs)("div",{children:[e.todo,Object(w.jsx)("a",{href:"#!",className:"secondary-content",children:Object(w.jsx)("i",{className:"material-icons",onClick:function(){return t=e._id,void a(A(t));var t},children:"send"})})]})},t)}))]}),Object(w.jsx)("button",{className:"btn btn-red",onClick:function(){a(y())},children:"Log Out"})]})};var D=function(){var e=Object(u.c)((function(e){return e.user})).token,t=Object(u.b)();return Object(c.useEffect)((function(){t(g())}),[t]),Object(w.jsx)("div",{className:"App",children:e?Object(w.jsx)(E,{}):Object(w.jsx)(S,{})})},J=Object(p.a)({reducer:{user:k,todos:T}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(u.a,{store:J,children:Object(w.jsx)(D,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.79a23961.chunk.js.map